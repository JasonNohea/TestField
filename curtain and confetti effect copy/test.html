<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/1.png" type="image/x-icon" />

    <!-- <link rel="stylesheet" href="styles.css" /> -->
    <link
      href="https://www.cssscript.com/wp-includes/css/sticky.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.1.3/darkly/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
    />

    <link rel="stylesheet" href="assets/styles.css" />
    <title>Curtain Effect</title>
  </head>
  <body>
    <!-- <audio src="assets/birthday-whistle-sound-effect.mp3" autoplay></audio> -->

    <div class="content">
      <div class="text-container">
        <h1 class="text" style="animation-delay: 2s">Happy Birthday</h1>
        <h2 class="text" style="animation-delay: 4s">~ Name ~</h2>
        <h3 class="text" style="animation-delay: 6s">
          May your day be filled with joy, laughter, and unforgettable moments.
          Wishing you all the best, God bless You.
        </h3>
        <h4 class="text" style="animation-delay: 10s">From Jay :></h4>
        <!-- Add more text rows here -->
      </div>

      <div class="container">
        <button onclick="startConfetti();" class="btn btn-danger">Start</button>
        <button onclick="stopConfetti();" class="btn btn-info">Stop</button>
        <button onclick="toggleConfetti();" class="btn btn-warning">
          Toggle
        </button>
      </div>

      <script src="assets/confetti.js"></script>
      <script>
        (function (i, s, o, g, r, a, m) {
          i["GoogleAnalyticsObject"] = r;
          (i[r] =
            i[r] ||
            function () {
              (i[r].q = i[r].q || []).push(arguments);
            }),
            (i[r].l = 1 * new Date());
          (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m);
        })(
          window,
          document,
          "script",
          "//www.google-analytics.com/analytics.js",
          "ga"
        );

        ga("create", "UA-46156385-1", "cssscript.com");

        ga("send", "pageview");
      </script>

      <!-- <img
        src="https://images.unsplash.com/photo-1558970439-add78fc68990?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1179&q=80"
      /> -->
    </div>
    <div class="curtainBody">
      <div id="leftCurtain" class="curtainContainer">
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
      </div>
      <div id="rightCurtain" class="curtainContainer">
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
        <div class="unCurtain"></div>
      </div>
      <div class="overlay" id="overlay"></div>
    </div>

    <script>
      setTimeout(slide, 2000);
      function slide() {
        document.getElementsByClassName("curtainContainer")[0].style.transform =
          "translatex(-150vw) ";
        document.getElementsByClassName("curtainContainer")[1].style.transform =
          "translatex(150vw)";
        startConfetti();
        document.getElementById("overlay").classList.add("opacity");
      }

      var maxParticleCount = 150; //set max confetti count
      var particleSpeed = 2; //set the particle animation speed
      var startConfetti; //call to start confetti animation
      var stopConfetti; //call to stop adding confetti
      var toggleConfetti; //call to start or stop the confetti animation depending on whether it's already running
      var removeConfetti; //call to stop the confetti animation and remove all confetti immediately

      (function () {
        startConfetti = startConfettiInner;
        stopConfetti = stopConfettiInner;
        toggleConfetti = toggleConfettiInner;
        removeConfetti = removeConfettiInner;
        var colors = [
          "DodgerBlue",
          "OliveDrab",
          "Gold",
          "Pink",
          "SlateBlue",
          "LightBlue",
          "Violet",
          "PaleGreen",
          "SteelBlue",
          "SandyBrown",
          "Chocolate",
          "Crimson",
        ];
        var streamingConfetti = false;
        var animationTimer = null;
        var particles = [];
        var waveAngle = 0;

        function resetParticle(particle, width, height) {
          particle.color = colors[(Math.random() * colors.length) | 0];
          particle.x = Math.random() * width;
          particle.y = Math.random() * height - height;
          particle.diameter = Math.random() * 10 + 5;
          particle.tilt = Math.random() * 10 - 10;
          particle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;
          particle.tiltAngle = 0;
          return particle;
        }

        function startConfettiInner() {
          var width = window.innerWidth;
          var height = window.innerHeight;
          window.requestAnimFrame = (function () {
            return (
              window.requestAnimationFrame ||
              window.webkitRequestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.oRequestAnimationFrame ||
              window.msRequestAnimationFrame ||
              function (callback) {
                return window.setTimeout(callback, 16.6666667);
              }
            );
          })();
          var canvas = document.getElementById("confetti-canvas");
          if (canvas === null) {
            canvas = document.createElement("canvas");
            canvas.setAttribute("id", "confetti-canvas");
            canvas.setAttribute(
              "style",
              "display:block;z-index:999999;pointer-events:none"
            );
            document.body.appendChild(canvas);
            canvas.width = width;
            canvas.height = height;
            window.addEventListener(
              "resize",
              function () {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
              },
              true
            );
          }
          var context = canvas.getContext("2d");
          while (particles.length < maxParticleCount)
            particles.push(resetParticle({}, width, height));
          streamingConfetti = true;
          if (animationTimer === null) {
            (function runAnimation() {
              context.clearRect(0, 0, window.innerWidth, window.innerHeight);
              if (particles.length === 0) animationTimer = null;
              else {
                updateParticles();
                drawParticles(context);
                animationTimer = requestAnimFrame(runAnimation);
              }
            })();
          }
        }

        function stopConfettiInner() {
          streamingConfetti = false;
        }

        function removeConfettiInner() {
          stopConfetti();
          particles = [];
        }

        function toggleConfettiInner() {
          if (streamingConfetti) stopConfettiInner();
          else startConfettiInner();
        }

        function drawParticles(context) {
          var particle;
          var x;
          for (var i = 0; i < particles.length; i++) {
            particle = particles[i];
            context.beginPath();
            context.lineWidth = particle.diameter;
            context.strokeStyle = particle.color;
            x = particle.x + particle.tilt;
            context.moveTo(x + particle.diameter / 2, particle.y);
            context.lineTo(
              x,
              particle.y + particle.tilt + particle.diameter / 2
            );
            context.stroke();
          }
        }

        function updateParticles() {
          var width = window.innerWidth;
          var height = window.innerHeight;
          var particle;
          waveAngle += 0.01;
          for (var i = 0; i < particles.length; i++) {
            particle = particles[i];
            if (!streamingConfetti && particle.y < -15)
              particle.y = height + 100;
            else {
              particle.tiltAngle += particle.tiltAngleIncrement;
              particle.x += Math.sin(waveAngle);
              particle.y +=
                (Math.cos(waveAngle) + particle.diameter + particleSpeed) * 0.5;
              particle.tilt = Math.sin(particle.tiltAngle) * 15;
            }
            if (
              particle.x > width + 20 ||
              particle.x < -20 ||
              particle.y > height
            ) {
              if (streamingConfetti && particles.length <= maxParticleCount)
                resetParticle(particle, width, height);
              else {
                particles.splice(i, 1);
                i--;
              }
            }
          }
        }
      })();
    </script>
  </body>
</html>
